__author__ = 'qxu'
'''
?????????????
? 1 ? 2 ? 3 ?
?????????????
? 4 ? 5 ? 6 ?
?????????????
? 7 ? 8 ? 9 ?
?????????????
    ? 0 ?
    ?????
'''

keypad = {'1': ['1', '2', '4'], '2': ['1', '2', '3', '5'], '3': ['2', '3', '6'],
          '4': ['1', '4', '5', '7'], '5': ['2', '4', '5', '6', '8'], '6': ['3', '5', '6', '9'],
          '7': ['4', '7', '8'], '8': ['5', '7', '8', '9', '0'], '9': ['6', '8', '9'], '0': ['0', '8']}


def get_pins(observed):
    lst = []
    for d in observed:
        lst.append(keypad[d])
    return product_lst(*lst)


def product(lst1, lst2):
    return [''.join([x, y]) for x in lst1 for y in lst2]

def product_lst(*lst):
    newl = ['']
    for l in lst:
        newl = product(newl, l)
    return newl


expectations = [('8', ['5', '7', '8', '9', '0']),
                ('11', ["11", "22", "44", "12", "21", "14", "41", "24", "42"]),
                ('369',
                 ["339", "366", "399", "658", "636", "258", "268", "669", "668", "266", "369", "398", "256", "296",
                  "259", "368", "638", "396", "238", "356", "659", "639", "666", "359", "336", "299", "338", "696",
                  "269", "358", "656", "698", "699", "298", "236", "239"])]

print get_pins('369')
